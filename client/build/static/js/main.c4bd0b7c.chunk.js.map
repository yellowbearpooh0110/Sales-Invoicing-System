{"version":3,"sources":["store/slice/auth.slice.js","store/slice/counter.slice.js","store/slice/loading.slice.js","store/index.js","fonts/Microsoft Sans Serif.ttf","images/logo_title.png","components/Guest/Invoice.js","components/Guest/Quotation.js","services/auth.service.js","components/Guest/SignIn.js","components/Guest/SignUp.js","components/Common/AppHeader/index.js","components/Common/Sidebar/FixedSidebar.js","components/Common/Sidebar/CollapsedSidebar.js","components/Common/DataGrid/index.js","components/Admin/User.js","components/Admin/Chair/Stock.js","components/Admin/Desk/Stock.js","components/Admin/Accessory/Stock.js","components/Admin/Salement/ProductList/index.js","components/Admin/Salement/SalesOrder/View.js","components/Admin/Salement/SalesOrder/Detail.js","components/Admin/Salement/SalesOrder/Create.js","components/Admin/Salement/SalesOrder/Edit.js","components/Admin/Salement/Quotation/View.js","components/Admin/Salement/Quotation/Detail.js","components/Admin/Salement/Quotation/Create.js","components/Admin/Salement/Quotation/Edit.js","components/Admin/index.js","components/Standard/Chair/Stock.js","components/Standard/Desk/Stock.js","components/Standard/Accessory/Stock.js","components/Standard/Salement/ProductList/index.js","components/Standard/Salement/SalesOrder/View.js","components/Standard/Salement/SalesOrder/Detail.js","components/Standard/Salement/SalesOrder/Create.js","components/Standard/Salement/SalesOrder/Edit.js","components/Standard/Salement/Quotation/View.js","components/Standard/Salement/Quotation/Detail.js","components/Standard/Salement/Quotation/Create.js","components/Standard/Salement/Quotation/Edit.js","components/Standard/index.js","components/Common/Routes/AdminRoute.js","components/Common/Routes/GuestRoute.js","components/Common/Routes/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["auth","createSlice","name","initialState","isLoggedIn","isAdmin","token","reducers","loginSuccess","state","action","payload","loginFail","logout","actions","counter","value","increment","decrement","incrementByAmount","beginLoading","endLoading","reducer","combineReducers","loading","preloadedState","localStorage","getItem","JSON","parse","store","configureStore","subscribe","setItem","stringify","getState","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","title","fontFamily","fontSize","marginBottom","fontWeight","detail","lineHeight","info","flexDirection","companyInfo","width","paddingRight","clientInfo","email","color","textDecoration","subtitle","margin","text","textAlign","table","border","tableRow","borderBottom","minHeight","tableColumn","flex","padding","borderRight","header","marginLeft","marginRight","pageNumber","position","bottom","left","right","Font","register","family","src","microsoft_sans_serif","Invoice","useState","setLoading","success","setSuccess","order","setOrder","id","useParams","useEffect","source","axios","CancelToken","getOrder","cancelToken","cancel","get","then","response","data","catch","error","console","log","Backdrop","sx","zIndex","theme","drawer","open","CircularProgress","height","style","wrap","logoTitle","unit","floor","block","street","district","phone","cells","content","backgroundColor","textTransform","timeLine","paymentTerms","paid","dueDate","map","rowIndex","rowArr","rowRestProps","length","index","cellArr","cellRestProps","flexBasis","maxWidth","ChairStocks","item","ChairToOrder","qty","brand","model","frameColor","backColor","seatColor","unitPrice","DeskStocks","DeskToOrder","armSize","feetSize","beamSize","AccessoryStocks","AccessoryToOrder","remark","Array","Math","max","fill","reduce","acc","cur","borderRadius","flexGrow","marginTop","render","totalPages","fixed","Warning","Typography","Quotation","quotation","setQuotation","getQuotation","ChairToQuotation","DeskToQuotation","AccessoryToQuotation","dispatch","defaults","headers","common","type","Copyright","props","variant","align","Link","href","Date","getFullYear","connect","login","Promise","resolve","reject","post","Box","mx","mt","display","alignItems","LogoTitile","alt","Avatar","m","bgcolor","component","onSubmit","event","preventDefault","form","currentTarget","FormData","password","err","Swal","fire","icon","html","message","replace","allowOutsideClick","noValidate","Grid","container","spacing","xs","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Button","mb","RouterLink","to","firstName","lastName","prefix","history","push","sm","FormControl","InputLabel","Select","labelId","defaultValue","MenuItem","justifyContent","drawerHeight","handleDrawerToggle","AppBar","maxHeight","Toolbar","IconButton","edge","onClick","mr","Menu","noWrap","useFixedSidebarStyles","makeStyles","root","boxSizing","drawerWidth","overflow","navlink","transition","minWidth","FixedSidebar","handleLogout","lists","classes","expList","setExpList","expIndex","setExpIndex","className","list","listIndex","List","category","pl","listitem","itemIndex","children","ListItem","button","secondaryAction","ExpandMore","transform","ListItemIcon","ListItemText","primary","Collapse","in","disablePadding","child","childIndex","path","exact","activeClassName","Divider","Logout","handleDrawerClose","mobileOpen","Drawer","onClose","ModalProps","keepMounted","PaperProps","e","descendingComparator","a","b","orderBy","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","columns","onSelectAllClick","numSelected","nonSelect","rowCount","onRequestSort","TableHead","TableRow","TableCell","indeterminate","checked","onChange","inputProps","property","nonSort","restProps","p","sortDirection","TableSortLabel","active","direction","IconComponent","ArrowDropDownIcon","EnhancedTableToolbar","onBulkRemoveClick","pr","alpha","palette","main","activatedOpacity","Tooltip","Delete","useDataGridStyles","tableCellClasses","head","teal","grey","DataGrid","rows","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","prevRows","useRef","current","tmp","join","filter","row","includes","emptyRows","Paper","TableContainer","Table","size","target","newSelecteds","n","TableBody","slice","isItemSelected","indexOf","role","tabIndex","selectedIndex","newSelected","concat","handleClick","filedIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","users","setUsers","editOpen","setEditOpen","setID","formProps","setFormProps","setType","handleEditClick","handleRemoveClick","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","getUsers","isActive","stopPropagation","put","edit","onEditClick","onRemoveClick","ids","Dialog","DialogTitle","DialogContent","Stack","DialogContentText","DialogActions","Stock","useTheme","formMode","setFormMode","stocks","setStocks","formOpen","setFormOpen","inputForm","balance","setBalance","shipmentQty","setShipmentQty","features","setFeatures","filterBrand","setFilterBrand","filterModel","setFilterModel","multiline","withHeadrest","withAdArmrest","shipmentDate","arrivalDate","getStocks","handleSave","thumbnailUrl","uploadData","append","url","Boolean","Number","handleCreate","startIcon","Add","flexWrap","options","c","chars","Autocomplete","renderInput","params","thumbnail","fullScreen","useMediaQuery","breakpoints","down","ref","restParams","InputLabelProps","shrink","defaultChecked","accept","Remove","filterColor","setFilterColor","supplierCode","topMaterial","topColor","topSize","autocomParams","ProductList","styled","ProductListItem","boxShadow","ProductListItemText","indigo","ProductPriceAmount","amount","whiteSpace","textOverflow","flexShrink","paddingLeft","orders","setOrders","setName","setEmail","setPhone","whatsAppOpen","setWhatsAppOpen","emailOpen","setEmailOpen","detailOpen","setDetailOpen","whatsAppMessage","emailContent","filterAnchor","setFilterAnchor","orderIndex","setOrderIndex","chairDeliveries","deskDeliveries","accessoryDeliveries","getOrders","Seller","createdAt","isPreOrder","seller","orderDate","createdTime","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","clientAddress","preOrder","products","my","Badge","badgeContent","Deck","invoicePDF","PictureAsPdf","emailIcon","Email","whatsappIcon","ReactDOMServer","renderToStaticMarkup","qrcode","level","qrerror","WhatsApp","pathname","onFilterClick","defaultCountry","InputProps","readOnly","inputRef","minRows","maxRows","secondary","deliveryDate","from","delivered","chairToOrders","deskToOrders","accessoryToOrders","TabPanel","other","hidden","chairColumns","deskColumns","accessoryColumns","componentType","initialClient","initialCart","clientForm","currentStep","setCurrentStep","addOpen","setAddOpen","productType","setProductType","productDetail","setProductDetail","productAmount","setProductAmount","cart","setCart","setPaid","chairStocks","setChairStocks","deskStocks","setDeskStocks","accessoryStocks","setAccessoryStocks","stocksIndex","setStocksIndex","chairFeatures","setChairFeatures","deskFeatures","setDeskFeatures","accessoryFeatures","setAccessoryFeatures","chairFilterBrand","setChairFilterBrand","chairFilterModel","setChairFilterModel","deskFilterModel","setDeskFilterModel","deskFilterColor","setDeskFilterColor","accessoryFilterColor","setAccessoryFilterColor","getDeskFeatures","getAccessoryFeatures","getChairStocks","getDeskStocks","getAccessoryStocks","Stepper","activeStep","step","labelProps","checkValidity","optional","Step","StepLabel","muliline","setValue","min","RadioGroup","Radio","float","px","product","productIndex","productPrice","borderColor","Tabs","Tab","add","find","clientData","paymentData","productId","disabled","Create","Detail","Edit","useLocation","client","sellerId","quotationPDF","menuLists","Storefront","BookOnline","PeopleAlt","setMobileOpen","useRouteMatch","CollapsedSidebar","User","ChairStock","DeskStock","AccessoryStock","SalesOrderView","SalesOrderCreate","SalesOrderEdit","QuotationView","QuotationCreate","QuotationEdit","Component","rest","createTheme","components","MuiButton","variants","defaultProps","styleOverrides","MuiTextField","baseURL","interceptors","request","use","config","status","App","ThemeProvider","CssBaseline","Container","disableGutters","modal","SignIn","SignUp","Admin","Standard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4bd0b7c.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const auth = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    token: null,\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.token = action.payload.token;\r\n      state.isAdmin = action.payload.isAdmin;\r\n    },\r\n    loginFail: (state) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    logout: (state) => {\r\n      state.isLoggedIn = false;\r\n      state.isAdmin = false;\r\n      state.token = null;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loginSuccess, loginFail, logout } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'loading',\r\n  initialState: {\r\n    value: false,\r\n  },\r\n  reducers: {\r\n    beginLoading: (state) => {\r\n      state.value = true;\r\n    },\r\n    endLoading: (state) => {\r\n      state.value = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport auth from './slice/auth.slice';\r\nimport counter from './slice/counter.slice';\r\nimport loading from './slice/loading.slice';\r\n\r\nconst reducer = combineReducers({\r\n  auth,\r\n  counter,\r\n  loading,\r\n});\r\n\r\nconst preloadedState = localStorage.getItem('state')\r\n  ? JSON.parse(localStorage.getItem('state'))\r\n  : {};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  preloadedState,\r\n});\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('state', JSON.stringify(store.getState()));\r\n});\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/Microsoft Sans Serif.8832b59d.ttf\";","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from '@react-pdf/renderer';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Warning as WarningIcon } from '@mui/icons-material';\r\nimport { Backdrop, CircularProgress, Typography } from '@mui/material';\r\n\r\nimport microsoft_sans_serif from 'fonts/Microsoft Sans Serif.ttf';\r\nimport logoTitle from 'images/logo_title.png';\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  title: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 40,\r\n    marginBottom: 10,\r\n    fontWeight: 'bold',\r\n  },\r\n  detail: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 10,\r\n  },\r\n  info: {\r\n    flexDirection: 'row',\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: '#0000ff',\r\n    textDecoration: 'underline',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: 'Microsoft Sans Serif',\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: 'justify',\r\n    fontFamily: 'Times-Roman',\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: '0.5px solid #808080',\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: '0.5px solid #808080',\r\n    flexDirection: 'row',\r\n    minHeight: 15,\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: '3px 5px',\r\n    borderRight: '0.5px solid #808080',\r\n  },\r\n  header: {\r\n    width: 100,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n  },\r\n  pageNumber: {\r\n    position: 'absolute',\r\n    fontSize: 12,\r\n    bottom: 30,\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: 'center',\r\n    color: 'grey',\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: 'Microsoft Sans Serif',\r\n  src: microsoft_sans_serif,\r\n});\r\n\r\nconst Invoice = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({});\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, [id]);\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/salesOrder/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <Image style={styles.header} src={logoTitle} />\r\n          <Text style={styles.title}>Invoice</Text>\r\n          <View style={styles.detail}>\r\n            <Text>No: 20211127</Text>\r\n            <Text>Date: October 15, 2021</Text>\r\n            <Text>PO No: 9500011259</Text>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean Intl (HK) Ltd</Text>\r\n              <Text>19/F</Text>\r\n              <Text>Bel Trade Commercial Building</Text>\r\n              <Text>3 Burrows Street</Text>\r\n              <Text>Wanchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {order.name}</Text>\r\n              <Text>{order.unit}</Text>\r\n              <Text>{order.floor}</Text>\r\n              <Text>{order.block}</Text>\r\n              <Text>{order.street}</Text>\r\n              <Text>{order.district}</Text>\r\n              <Text>Phone: {order.phone}</Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'Salesperson', width: '15%' },\r\n                  { content: 'Delivery Date', width: '55%' },\r\n                  { content: 'Payment Terms', width: '15%' },\r\n                  { content: 'Due Date', width: '15%' },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              {\r\n                cells: [\r\n                  { content: 'QTY', width: '15%' },\r\n                  {\r\n                    content:\r\n                      order.timeLine % 7 === 0\r\n                        ? `Est ${order.timeLine / 7} working week${\r\n                            order.timeLine / 7 === 1 ? '' : 's'\r\n                          } after payment`\r\n                        : `Est ${order.timeLine} working day${\r\n                            order.timeLine === 1 ? '' : 's'\r\n                          } after payment`,\r\n                    width: '55%',\r\n                  },\r\n                  { content: order.paymentTerms, width: '15%' },\r\n                  {\r\n                    content: order.paid ? 'Paid' : order.dueDate,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'QTY', width: '15%' },\r\n                  { content: 'Description', width: '55%' },\r\n                  { content: 'Unit Price', width: '15%' },\r\n                  { content: 'Line Total (HKD)', width: '15%' },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              ...order.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToOrder.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Chair: ${item.brand} ${item.model} ${item.frameColor} ${item.backColor} ${item.seatColor}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToOrder.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...order.DeskStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.DeskToOrder.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Desk: ${item.model} ${item.color} ${item.armSize} ${item.feetSize} ${item.beamSize}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.DeskToOrder.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.DeskToOrder.unitPrice * item.DeskToOrder.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...order.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToOrder.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Accessory: ${item.color}\\n${item.remark}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToOrder.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToOrder.unitPrice *\r\n                      item.AccessoryToOrder.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    order.ChairStocks.length -\r\n                    order.DeskStocks.length -\r\n                    order.AccessoryStocks.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '55%' },\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '15%' },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SUBTOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (order.ChairStocks.length\r\n                        ? order.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToOrder.unitPrice *\r\n                              item.ChairToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (order.DeskStocks.length\r\n                        ? order.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToOrder.unitPrice * item.DeskToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (order.AccessoryStocks.length\r\n                        ? order.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToOrder.unitPrice *\r\n                              item.AccessoryToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    } HKD`,\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SALES TAX', width: '15%' },\r\n                  {\r\n                    content: '0 HKD',\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'TOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (order.ChairStocks.length\r\n                        ? order.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToOrder.unitPrice *\r\n                              item.ChairToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (order.DeskStocks.length\r\n                        ? order.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToOrder.unitPrice * item.DeskToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (order.AccessoryStocks.length\r\n                        ? order.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToOrder.unitPrice *\r\n                              item.AccessoryToOrder.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: 'absolute',\r\n                width: '70%',\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: 'row', margin: '5px 0' }}>\r\n              <View\r\n                style={{\r\n                  width: 12,\r\n                  height: 12,\r\n                  margin: '2px 5px 0 0',\r\n                  border: '2px solid #888888',\r\n                  borderRadius: 2,\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: '5px',\r\n              flexGrow: 1,\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: 'row', marginLeft: '10px' }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: '5px 10px 0 0',\r\n                  backgroundColor: '#888888',\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Agreement to this invoice represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 30,\r\n              textAlign: 'center',\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n          <Text\r\n            style={styles.pageNumber}\r\n            render={({ pageNumber, totalPages }) =>\r\n              `${pageNumber} / ${totalPages}`\r\n            }\r\n            fixed\r\n          />\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Invoice;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from '@react-pdf/renderer';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Warning as WarningIcon } from '@mui/icons-material';\r\nimport { Backdrop, CircularProgress, Typography } from '@mui/material';\r\n\r\nimport microsoft_sans_serif from 'fonts/Microsoft Sans Serif.ttf';\r\nimport logoTitle from 'images/logo_title.png';\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  title: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 40,\r\n    marginBottom: 10,\r\n    fontWeight: 'bold',\r\n  },\r\n  detail: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 10,\r\n  },\r\n  info: {\r\n    flexDirection: 'row',\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: 'Microsoft Sans Serif',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: '#0000ff',\r\n    textDecoration: 'underline',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: 'Microsoft Sans Serif',\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: 'justify',\r\n    fontFamily: 'Times-Roman',\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: '0.5px solid #808080',\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: '0.5px solid #808080',\r\n    flexDirection: 'row',\r\n    minHeight: 15,\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: '3px 5px',\r\n    borderRight: '0.5px solid #808080',\r\n  },\r\n  header: {\r\n    width: 100,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n  },\r\n  pageNumber: {\r\n    position: 'absolute',\r\n    fontSize: 12,\r\n    bottom: 30,\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: 'center',\r\n    color: 'grey',\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: 'Microsoft Sans Serif',\r\n  src: microsoft_sans_serif,\r\n});\r\n\r\nconst Quotation = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [success, setSuccess] = useState(false);\r\n  const [quotation, setQuotation] = useState({});\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotation({ id, cancelToken: source.token });\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, [id]);\r\n\r\n  const getQuotation = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/quotation/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setQuotation(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <Image style={styles.header} src={logoTitle} />\r\n          <Text style={styles.title}>Quotation</Text>\r\n          <View style={styles.detail}>\r\n            <Text>No: 20211127</Text>\r\n            <Text>Date: October 15, 2021</Text>\r\n            <Text>PO No: 9500011259</Text>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean Intl (HK) Ltd</Text>\r\n              <Text>19/F</Text>\r\n              <Text>Bel Trade Commercial Building</Text>\r\n              <Text>3 Burrows Street</Text>\r\n              <Text>Wanchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {quotation.name}</Text>\r\n              <Text>{quotation.unit}</Text>\r\n              <Text>{quotation.floor}</Text>\r\n              <Text>{quotation.block}</Text>\r\n              <Text>{quotation.street}</Text>\r\n              <Text>{quotation.district}</Text>\r\n              <Text>Phone: {quotation.phone}</Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'Salesperson', width: '15%' },\r\n                  { content: 'Delivery Date', width: '55%' },\r\n                  { content: 'Payment Terms', width: '15%' },\r\n                  { content: 'Due Date', width: '15%' },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              {\r\n                cells: [\r\n                  { content: 'QTY', width: '15%' },\r\n                  {\r\n                    content:\r\n                      quotation.timeLine % 7 === 0\r\n                        ? `Est ${quotation.timeLine / 7} working week${\r\n                            quotation.timeLine / 7 === 1 ? '' : 's'\r\n                          } after payment`\r\n                        : `Est ${quotation.timeLine} working day${\r\n                            quotation.timeLine === 1 ? '' : 's'\r\n                          } after payment`,\r\n                    width: '55%',\r\n                  },\r\n                  { content: quotation.paymentTerms, width: '15%' },\r\n                  {\r\n                    content: quotation.paid ? 'Paid' : quotation.dueDate,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'QTY', width: '15%' },\r\n                  { content: 'Description', width: '55%' },\r\n                  { content: 'Unit Price', width: '15%' },\r\n                  { content: 'Line Total (HKD)', width: '15%' },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              ...quotation.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Chair: ${item.brand} ${item.model} ${item.frameColor} ${item.backColor} ${item.seatColor}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToQuotation.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToQuotation.unitPrice *\r\n                      item.ChairToQuotation.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.DeskStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.DeskToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Desk: ${item.model} ${item.color} ${item.armSize} ${item.feetSize} ${item.beamSize}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.DeskToQuotation.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.DeskToQuotation.unitPrice * item.DeskToQuotation.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Accessory: ${item.color}\\n${item.remark}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.unitPrice} HKD`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToQuotation.unitPrice *\r\n                      item.AccessoryToQuotation.qty\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    quotation.ChairStocks.length -\r\n                    quotation.DeskStocks.length -\r\n                    quotation.AccessoryStocks.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '55%' },\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '15%' },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SUBTOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskStocks.length\r\n                        ? quotation.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToQuotation.unitPrice *\r\n                              item.DeskToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    } HKD`,\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SALES TAX', width: '15%' },\r\n                  {\r\n                    content: '0 HKD',\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'TOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskStocks.length\r\n                        ? quotation.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToQuotation.unitPrice *\r\n                              item.DeskToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    } HKD`,\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: 'absolute',\r\n                width: '70%',\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: 'row', margin: '5px 0' }}>\r\n              <View\r\n                style={{\r\n                  width: 12,\r\n                  height: 12,\r\n                  margin: '2px 5px 0 0',\r\n                  border: '2px solid #888888',\r\n                  borderRadius: 2,\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: '5px',\r\n              flexGrow: 1,\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: 'row', marginLeft: '10px' }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: '5px 10px 0 0',\r\n                  backgroundColor: '#888888',\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Agreement to this quotation represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 30,\r\n              textAlign: 'center',\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n          <Text\r\n            style={styles.pageNumber}\r\n            render={({ pageNumber, totalPages }) =>\r\n              `${pageNumber} / ${totalPages}`\r\n            }\r\n            fixed\r\n          />\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid quotation url.</Typography>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Quotation;\r\n","import axios from 'axios';\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/user/login', data)\r\n      .then((response) => {\r\n        // handle success\r\n        const { token, type } = response.data;\r\n        const isAdmin = type === 'admin' ? true : false;\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        dispatch({ type: 'auth/loginSuccess', payload: { token, isAdmin } });\r\n        resolve();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        reject(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: 'auth/logout' });\r\n};\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport { login } from 'services/auth.service';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    props\r\n      .login({\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n      })\r\n      .then()\r\n      .catch((err) => {\r\n        form.password.value = '';\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Login Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Link,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    axios\r\n      .post('user/register', {\r\n        firstName: data.get('firstName'),\r\n        lastName: data.get('lastName'),\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n        prefix: data.get('prefix'),\r\n        type: data.get('type'),\r\n      })\r\n      .then(() => {\r\n        // handle success\r\n        props.history.push('/signin');\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'SignUp Success',\r\n          html: `Your account was successfully registered.<br>You can use your account once Adminstrator allows.`,\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        // handle error\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'SignUp Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                autoComplete=\"fname\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"Last Name\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"prefix\"\r\n                label=\"Prefix\"\r\n                type=\"text\"\r\n                autoComplete=\"prefix\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"user-type-select-label\">Type</InputLabel>\r\n                <Select\r\n                  labelId=\"user-type-select-label\"\r\n                  id=\"user-type-select\"\r\n                  defaultValue=\"\"\r\n                  name=\"type\"\r\n                  label=\"Type\"\r\n                  margin=\"dense\"\r\n                >\r\n                  <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                  <MenuItem value=\"driver\">Driver</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                {'Already have an account? Sign In'}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@mui/material';\r\nimport { Menu as MenuIcon } from '@mui/icons-material';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AppHeader = ({\r\n  component: Component,\r\n  auth,\r\n  drawerHeight,\r\n  handleDrawerToggle,\r\n  title,\r\n  ...rest\r\n}) => (\r\n  <AppBar\r\n    position=\"static\"\r\n    sx={{\r\n      backgroundColor: '#5664d2',\r\n      flexBasis: `${drawerHeight}px`,\r\n      maxHeight: `${drawerHeight}px`,\r\n    }}\r\n  >\r\n    <Toolbar variant=\"dense\">\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        sx={{ mr: 2, display: { sm: 'none' } }}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap component=\"div\">\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n);\r\n\r\nAppHeader.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  drawerHeight: PropTypes.number.isRequired,\r\n  handleDrawerToggle: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppHeader);\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n    overflow: 'auto',\r\n    '&::-webkit-scrollbar': {\r\n      width: 8,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#6b778c',\r\n      borderRadius: 4,\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({ drawerWidth, handleLogout, lists }) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Box\r\n      className={classes.root}\r\n      sx={{\r\n        display: { xs: 'none', sm: 'block' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                activeClassName=\"active\"\r\n                {...listitem}\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem button className={classes.navlink} onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Collapse,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({\r\n  drawerWidth,\r\n  handleLogout,\r\n  handleDrawerClose,\r\n  lists,\r\n  mobileOpen,\r\n}) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"temporary\"\r\n      open={mobileOpen}\r\n      onClose={handleDrawerClose}\r\n      ModalProps={{\r\n        keepMounted: true, // Better open performance on mobile.\r\n      }}\r\n      PaperProps={{\r\n        className: classes.root,\r\n      }}\r\n      sx={{\r\n        display: { xs: 'block', sm: 'none' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        onClick={handleDrawerClose}\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                {...listitem}\r\n                onClick={handleDrawerClose}\r\n                activeClassName=\"active\"\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem\r\n          button\r\n          className={classes.navlink}\r\n          onClick={(e) => {\r\n            handleDrawerClose(e);\r\n            handleLogout(e);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  handleDrawerClose: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n  mobileOpen: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { alpha } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  tableCellClasses,\r\n  TableSortLabel,\r\n} from '@mui/material';\r\nimport { yellow, grey, teal } from '@mui/material/colors';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Delete as DeleteIcon,\r\n} from '@mui/icons-material';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\n// This method is created for cross-browser compatibility, if you don't\r\n// need to support IE11, you can use Array.prototype.sort() directly\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    columns,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    nonSelect,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {!nonSelect && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{\r\n                'aria-label': 'select all desserts',\r\n              }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {columns.map(({ id, label, nonSort, sx, ...restProps }) => (\r\n          <TableCell\r\n            key={id}\r\n            align=\"left\"\r\n            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n            sortDirection={orderBy === id ? order : false}\r\n            {...restProps}\r\n          >\r\n            {nonSort ? (\r\n              label\r\n            ) : (\r\n              <TableSortLabel\r\n                active={orderBy === id}\r\n                direction={orderBy === id ? order : 'asc'}\r\n                onClick={createSortHandler(id)}\r\n                IconComponent={ArrowDropDownIcon}\r\n              >\r\n                {label}\r\n              </TableSortLabel>\r\n            )}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  columns: PropTypes.arrayOf(Object).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const { title, numSelected, onBulkRemoveClick } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      sx={{\r\n        pl: { sm: 2 },\r\n        pr: { xs: 1, sm: 1 },\r\n        ...(numSelected > 0 && {\r\n          bgcolor: (theme) =>\r\n            alpha(\r\n              theme.palette.primary.main,\r\n              theme.palette.action.activatedOpacity\r\n            ),\r\n        }),\r\n      }}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          {title}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 && (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton onClick={onBulkRemoveClick}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onBulkRemoveClick: PropTypes.func.isRequired,\r\n};\r\n\r\nconst useDataGridStyles = makeStyles((theme) => ({\r\n  table: {\r\n    [`& .MuiTableCell-root.${tableCellClasses.head}`]: {\r\n      backgroundColor: teal[400],\r\n      '&, & *': { color: teal[50] },\r\n      fontSize: 12,\r\n      fontWeight: 600,\r\n    },\r\n    [`& .MuiTableCell-root.${tableCellClasses.body}`]: {\r\n      fontSize: 10,\r\n    },\r\n    '& .MuiTableRow-root': {\r\n      height: 40,\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: grey[50],\r\n      },\r\n      '&:last-child td, &:last-child th': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst DataGrid = (props) => {\r\n  const { title, columns, nonSelect, onBulkRemoveClick, rows } = props;\r\n\r\n  const classes = useDataGridStyles();\r\n\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('index');\r\n  const [selected, setSelected] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  const prevRows = useRef();\r\n\r\n  useEffect(() => {\r\n    if (prevRows.current !== rows.map((tmp) => tmp.id).join(',')) {\r\n      prevRows.current = rows.map((tmp) => tmp.id).join(',');\r\n      setSelected(\r\n        selected.filter((item) => rows.map((row) => row.id).includes(item))\r\n      );\r\n    }\r\n  }, [rows, selected]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  // Avoid a layout jump when reaching the last page with empty rows.\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mt: 2 }}>\r\n        <EnhancedTableToolbar\r\n          title={title}\r\n          numSelected={selected.length}\r\n          onBulkRemoveClick={(event) => {\r\n            event.preventDefault();\r\n            onBulkRemoveClick && onBulkRemoveClick(selected);\r\n          }}\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            sx={{ minWidth: 750 }}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              columns={columns}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              nonSelect={nonSelect}\r\n              rowCount={rows.length}\r\n            />\r\n            <TableBody>\r\n              {/* if you don't need to support IE11, you can replace the `stableSort` call with:\r\n                 rows.slice().sort(getComparator(order, orderBy)) */}\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={index}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      {!nonSelect && (\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            onClick={(event) => handleClick(event, row.id)}\r\n                            color=\"primary\"\r\n                            checked={isItemSelected}\r\n                            inputProps={{\r\n                              'aria-labelledby': labelId,\r\n                            }}\r\n                          />\r\n                        </TableCell>\r\n                      )}\r\n\r\n                      {columns.map(\r\n                        (\r\n                          { id, label, nonSort, sx, ...restProps },\r\n                          filedIndex\r\n                        ) => (\r\n                          <TableCell\r\n                            key={filedIndex}\r\n                            component=\"th\"\r\n                            id={filedIndex === 0 ? labelId : ''}\r\n                            scope=\"row\"\r\n                            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n                            {...restProps}\r\n                          >\r\n                            {id === 'index' ? row[id] + 1 : row[id]}\r\n                          </TableCell>\r\n                        )\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow\r\n                  style={{\r\n                    height: 33 * emptyRows,\r\n                  }}\r\n                >\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nDataGrid.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  onBulkRemoveClick: PropTypes.func,\r\n};\r\n\r\nexport default DataGrid;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FormControl,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'email',\r\n    label: 'Email',\r\n  },\r\n  {\r\n    id: 'firstName',\r\n    label: 'First Name',\r\n  },\r\n  {\r\n    id: 'lastName',\r\n    label: 'Last Name',\r\n  },\r\n  {\r\n    id: 'type',\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'prefix',\r\n    label: 'Prefix',\r\n  },\r\n  {\r\n    id: 'isActive',\r\n    label: 'Active',\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'edit',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const [id, setID] = useState('');\r\n  const [formProps, setFormProps] = useState([]);\r\n  const [type, setType] = useState('');\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      setID(users[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'email',\r\n          defaultValue: users[index].email,\r\n          label: 'Email',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'firstName',\r\n          defaultValue: users[index].firstName,\r\n          label: 'First Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'lastName',\r\n          defaultValue: users[index].lastName,\r\n          label: 'Last Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'prefix',\r\n          defaultValue: users[index].prefix,\r\n          label: 'Prefix',\r\n          width: '100%',\r\n        },\r\n      ]);\r\n      setType(users[index].type);\r\n    }\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current account permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep this account.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/user/${users[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getUsers();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairColors permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/user', { data: { ids: selected } })\r\n          .then((response) => {\r\n            // handle success\r\n            getUsers();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    new axios.put(`/user/${id}`, {\r\n      email: data.get('email'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n      type: type,\r\n      prefix: data.get('prefix'),\r\n    })\r\n      .then((response) => {\r\n        // handle success\r\n        setEditOpen(false);\r\n        getUsers();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEditOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEditOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getUsers = (cancelToken) => {\r\n    axios\r\n      .get('/user', { cancelToken: cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setUsers(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let source = axios.CancelToken.source();\r\n    getUsers(source.token);\r\n    return () => source.cancel('Users Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <DataGrid\r\n        title=\"Users\"\r\n        rows={users.map(({ isActive, ...restProps }, index) => ({\r\n          index,\r\n          isActive: (\r\n            <Checkbox\r\n              checked={isActive}\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                axios\r\n                  .put(`/user/${restProps.id}`, {\r\n                    isActive: !isActive,\r\n                  })\r\n                  .then(() => {\r\n                    getUsers();\r\n                  })\r\n                  .catch(function (error) {\r\n                    // handle error\r\n                    Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Error',\r\n                      text: error.response.data.message,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  })\r\n                  .then(function () {\r\n                    // always executed\r\n                  });\r\n              }}\r\n            />\r\n          ),\r\n          edit: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleEditClick(index);\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          ),\r\n          delete: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleRemoveClick(index);\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          ),\r\n          ...restProps,\r\n        }))}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        open={editOpen}\r\n        PaperProps={{ component: 'form', onSubmit: handleSave }}\r\n      >\r\n        <DialogTitle>Edit User</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <DialogContentText>\r\n              Please Edit the User information and Click Save button.\r\n            </DialogContentText>\r\n            {formProps.map(({ width, ...restProps }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ))}\r\n            <FormControl>\r\n              <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                Type\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"user-type-select-label\"\r\n                id=\"user-type-select\"\r\n                value={type}\r\n                label=\"Type\"\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                onChange={(event) => {\r\n                  event.preventDefault();\r\n                  setType(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"admin\">Admin</MenuItem>\r\n                <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                <MenuItem value=\"driver\">Driver</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'brand',\r\n          label: 'Brand',\r\n          type: 'text',\r\n          defaultValue: stocks[index].brand,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'frameColor',\r\n          label: 'Frame Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].frameColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'backColor',\r\n          label: 'Back Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].backColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'seatColor',\r\n          label: 'Seat Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].seatColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'withHeadrest',\r\n          label: 'Headrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'withAdArmrest',\r\n          label: 'Adjustable Armrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/chairStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'brand',\r\n              label: 'Brand',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'frameColor',\r\n              label: 'Frame Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'backColor',\r\n              label: 'Back Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'seatColor',\r\n              label: 'Seat Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'withHeadrest',\r\n              label: 'Headrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'withAdArmrest',\r\n              label: 'Adjustable Armrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailUrl,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Suppier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'topMaterial',\r\n          label: 'Top Material',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].topMaterial,\r\n          options: [\r\n            'Melamine',\r\n            'Laminate',\r\n            'North American Walnut',\r\n            'South American Walnut',\r\n            'Red Oak',\r\n            'Maple, Bamboo',\r\n            'Melamine with glass top',\r\n          ],\r\n          width: '65%',\r\n        },\r\n        {\r\n          name: 'topColor',\r\n          label: 'Top Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].topColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'topSize',\r\n          label: 'Top Size',\r\n          type: 'text',\r\n          defaultValue: stocks[index].topSize,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        topMaterial: data.get('topMaterial'),\r\n        topColor: data.get('topColor'),\r\n        topSize: data.get('topSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        topMaterial: data.get('topMaterial'),\r\n        topColor: data.get('topColor'),\r\n        topSize: data.get('topSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Suppier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'topMaterial',\r\n              label: 'Top Material',\r\n              type: 'autocomplete',\r\n              options: [\r\n                'Melamine',\r\n                'Laminate',\r\n                'North American Walnut',\r\n                'South American Walnut',\r\n                'Red Oak',\r\n                'Maple, Bamboo',\r\n                'Melamine with glass top',\r\n              ],\r\n              width: '65%',\r\n            },\r\n            {\r\n              name: 'topColor',\r\n              label: 'Top Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'topSize',\r\n              label: 'Top Size',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterModel || item.model === filterModel)\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Desk Stocks\"\r\n        rows={stocks\r\n          .filter(\r\n            (item) =>\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailUrl,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    options={['aa', 'ss']}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'name',\r\n          label: 'Name',\r\n          type: 'text',\r\n          defaultValue: stocks[index].name,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current AccessoryStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected AccessoryStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/accessoryStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        name: data.get('name'),\r\n        color: data.get('color'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        name: data.get('name'),\r\n        color: data.get('color'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks\r\n          .filter((item) => !filterColor || item.color === filterColor)\r\n          .map(\r\n            (\r\n              { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      <Typography\r\n        variant=\"span\"\r\n        sx={{\r\n          color: 'white',\r\n          width: 80,\r\n          whiteSpace: 'noWrap',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          textAlign: 'center',\r\n          backgroundColor: indigo[400],\r\n          fontSize: ['10px', '12px'],\r\n          padding: '3px 0',\r\n          margin: '3px 10px 3px 0',\r\n          flexShrink: 0,\r\n          borderRadius: '2px',\r\n        }}\r\n      >\r\n        {unitPrice}\r\n      </Typography>\r\n      <Typography\r\n        variant=\"span\"\r\n        sx={{\r\n          color: 'white',\r\n          width: 80,\r\n          whiteSpace: 'noWrap',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          textAlign: 'center',\r\n          backgroundColor: indigo[400],\r\n          fontSize: ['10px', '12px'],\r\n          padding: '3px 0',\r\n          margin: '3px 10px 3px 0',\r\n          flexShrink: 0,\r\n          borderRadius: '2px',\r\n        }}\r\n      >\r\n        {amount}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'invoicePDF',\r\n    nonSort: true,\r\n    label: 'Invoice',\r\n    align: 'center',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  useEffect(() => {}, [orders]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairOrder permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    console.log(selected);\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Brands permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/salesOrder', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/salesOrder', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoicePDF: (\r\n              <IconButton\r\n                component={Link}\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <PictureAsPdfIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/order/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Phone Number\"\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.ChairToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={`${item.topMaterial}, ${item.topColor}, ${item.topSize}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.DeskToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.DeskToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.DeskToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.DeskToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.DeskToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.color}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.AccessoryToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                deliveryDate: item.deliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                deliveryDate: item.deliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  deliveryDate: item.deliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              setDetailOpen(false);\r\n              axios\r\n                .post('/salesOrder/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { componentType, initialClient, initialCart } = props;\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Detailss',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterColor, setAccessoryFilterColor] = useState(null);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (cart.length === 0 && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              muliline: 'true',\r\n              type: 'text',\r\n              defaultValue: initialClient.remark,\r\n              width: '100%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.productDetail.frameColor}, ${item.productDetail.backColor}, ${item.productDetail.seatColor}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={`${item.productDetail.topMaterial}, ${item.productDetail.topColor}, ${item.productDetail.topSize}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.color}`}\r\n                        secondary={`${item.productDetail.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailUrl,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={chairColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Stocks\"\r\n                rows={deskStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'desk' &&\r\n                                  item.productDetail.id === deskStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={deskColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Color',\r\n                    value: accessoryFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setAccessoryFilterColor(value);\r\n                    },\r\n                    options: accessoryFeatures\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      !accessoryFilterColor ||\r\n                      item.color === accessoryFilterColor\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          console.log(paymentData.get('paid'));\r\n          console.log(Boolean(paymentData.get('paid')));\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then((response) => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                defaultChecked={initialClient.paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'chair' &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productPrice: Math.max(e.currentTarget.unitPrice.value, 0),\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <FormControlLabel\r\n            sx={{\r\n              width: '200px',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                label=\"Unit Price\"\r\n                margin=\"dense\"\r\n                type=\"number\"\r\n                name=\"unitPrice\"\r\n                defaultValue={1000}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 0 0' }}\r\n              />\r\n            }\r\n            label=\"HKD\"\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 9));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancle\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{ phone, setPhone, paid: true, dueDate: '' }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToOrder, ...restProps }) => ({\r\n            productType: 'desk',\r\n            productDetail: restProps,\r\n            productPrice: DeskToOrder.unitPrice,\r\n            productAmount: DeskToOrder.qty,\r\n          }))\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n          }))\r\n        )}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'quotationPDF',\r\n    nonSort: true,\r\n    label: 'Quotation',\r\n    align: 'center',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairOrder permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    console.log(selected);\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Brands permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/quotation', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToQuotation.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToQuotation.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationPDF: (\r\n              <IconButton\r\n                component={Link}\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <PictureAsPdfIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/quotation/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Phone Number\"\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={`${item.topMaterial}, ${item.topColor}, ${item.topSize}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.color}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { componentType, initialClient, initialCart } = props;\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Detailss',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterColor, setAccessoryFilterColor] = useState(null);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (cart.length === 0 && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              muliline: 'true',\r\n              type: 'text',\r\n              defaultValue: initialClient.remark,\r\n              width: '100%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                variant=\"outlined\"\r\n                key={index}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.productDetail.frameColor}, ${item.productDetail.backColor}, ${item.productDetail.seatColor}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={`${item.productDetail.topMaterial}, ${item.productDetail.topColor}, ${item.productDetail.topSize}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.color}`}\r\n                        secondary={`${item.productDetail.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailUrl,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={chairColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Stocks\"\r\n                rows={deskStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'desk' &&\r\n                                  item.productDetail.id === deskStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={deskColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Color',\r\n                    value: accessoryFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setAccessoryFilterColor(value);\r\n                    },\r\n                    options: accessoryFeatures\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      !accessoryFilterColor ||\r\n                      item.color === accessoryFilterColor\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          console.log(paymentData.get('paid'));\r\n          console.log(Boolean(paymentData.get('paid')));\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then((response) => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"paid\" defaultChecked={initialClient.paid} />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            disabled={initialClient.paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'chair' &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productPrice: Math.max(e.currentTarget.unitPrice.value, 0),\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <FormControlLabel\r\n            sx={{\r\n              width: '200px',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                label=\"Unit Price\"\r\n                margin=\"dense\"\r\n                type=\"number\"\r\n                name=\"unitPrice\"\r\n                defaultValue={1000}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 0 0' }}\r\n              />\r\n            }\r\n            label=\"HKD\"\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 9));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancle\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{ phone, setPhone, paid: true }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToQuotation, ...restProps }) => ({\r\n            productType: 'desk',\r\n            productDetail: restProps,\r\n            productPrice: DeskToQuotation.unitPrice,\r\n            productAmount: DeskToQuotation.qty,\r\n          }))\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n          }))\r\n        )}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  PeopleAlt as PeopleAltIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\nimport User from './User';\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/admin/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/admin/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/admin/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Salement',\r\n    content: [\r\n      { to: '/admin/order', icon: <BookOnlineIcon />, label: 'Order' },\r\n      {\r\n        to: '/admin/quotation',\r\n        icon: <BookOnlineIcon />,\r\n        label: 'Quotation',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'User',\r\n    content: [{ to: '/admin/user', icon: <PeopleAltIcon />, label: 'Users' }],\r\n  },\r\n];\r\n\r\nconst Admin = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n    // props.logout();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Administrator\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n            maxWidth: '100%',\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/user`} component={User} />\r\n            <Route path={`${path}/chair/stock`} exact component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} exact component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              exact\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Admin);\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'brand',\r\n          label: 'Brand',\r\n          type: 'text',\r\n          defaultValue: stocks[index].brand,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'frameColor',\r\n          label: 'Frame Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].frameColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'backColor',\r\n          label: 'Back Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].backColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'seatColor',\r\n          label: 'Seat Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].seatColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'withHeadrest',\r\n          label: 'Headrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'withAdArmrest',\r\n          label: 'Adjustable Armrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/chairStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'brand',\r\n              label: 'Brand',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'frameColor',\r\n              label: 'Frame Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'backColor',\r\n              label: 'Back Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'seatColor',\r\n              label: 'Seat Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'withHeadrest',\r\n              label: 'Headrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'withAdArmrest',\r\n              label: 'Adjustable Armrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailUrl,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Suppier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'topMaterial',\r\n          label: 'Top Material',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].topMaterial,\r\n          options: [\r\n            'Melamine',\r\n            'Laminate',\r\n            'North American Walnut',\r\n            'South American Walnut',\r\n            'Red Oak',\r\n            'Maple, Bamboo',\r\n            'Melamine with glass top',\r\n          ],\r\n          width: '65%',\r\n        },\r\n        {\r\n          name: 'topColor',\r\n          label: 'Top Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].topColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'topSize',\r\n          label: 'Top Size',\r\n          type: 'text',\r\n          defaultValue: stocks[index].topSize,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        topMaterial: data.get('topMaterial'),\r\n        topColor: data.get('topColor'),\r\n        topSize: data.get('topSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        topMaterial: data.get('topMaterial'),\r\n        topColor: data.get('topColor'),\r\n        topSize: data.get('topSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Suppier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'topMaterial',\r\n              label: 'Top Material',\r\n              type: 'autocomplete',\r\n              options: [\r\n                'Melamine',\r\n                'Laminate',\r\n                'North American Walnut',\r\n                'South American Walnut',\r\n                'Red Oak',\r\n                'Maple, Bamboo',\r\n                'Melamine with glass top',\r\n              ],\r\n              width: '65%',\r\n            },\r\n            {\r\n              name: 'topColor',\r\n              label: 'Top Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'topSize',\r\n              label: 'Top Size',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterModel || item.model === filterModel)\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Desk Stocks\"\r\n        rows={stocks\r\n          .filter(\r\n            (item) =>\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailUrl,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    options={['aa', 'ss']}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n  const inputForm = useRef(null);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current AccessoryStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected AccessoryStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/accessoryStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        color: data.get('color'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(inputForm.current);\r\n    let thumbnailUrl = '';\r\n    if (data.get('thumbnail')) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailUrl = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        color: data.get('color'),\r\n        remark: data.get('remark'),\r\n        thumbnailUrl,\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                margin=\"dense\"\r\n                {...params}\r\n                label={label}\r\n                size=\"small\"\r\n              />\r\n            )}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks\r\n          .filter((item) => !filterColor || item.color === filterColor)\r\n          .map(\r\n            (\r\n              { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailUrl}\r\n                  style={{ marginTop: '5px' }}\r\n                />\r\n              ),\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          ref: inputForm,\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    margin=\"dense\"\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Balance\"\r\n                size=\"small\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: '48%', minWidth: '48%' }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                margin=\"dense\"\r\n                label=\"Shipment\"\r\n                size=\"small\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      <Typography\r\n        variant=\"span\"\r\n        sx={{\r\n          color: 'white',\r\n          width: 80,\r\n          whiteSpace: 'noWrap',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          textAlign: 'center',\r\n          backgroundColor: indigo[400],\r\n          fontSize: ['10px', '12px'],\r\n          padding: '3px 0',\r\n          margin: '3px 10px 3px 0',\r\n          flexShrink: 0,\r\n          borderRadius: '2px',\r\n        }}\r\n      >\r\n        {unitPrice}\r\n      </Typography>\r\n      <Typography\r\n        variant=\"span\"\r\n        sx={{\r\n          color: 'white',\r\n          width: 80,\r\n          whiteSpace: 'noWrap',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          textAlign: 'center',\r\n          backgroundColor: indigo[400],\r\n          fontSize: ['10px', '12px'],\r\n          padding: '3px 0',\r\n          margin: '3px 10px 3px 0',\r\n          flexShrink: 0,\r\n          borderRadius: '2px',\r\n        }}\r\n      >\r\n        {amount}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'invoicePDF',\r\n    nonSort: true,\r\n    label: 'Invoice',\r\n    align: 'center',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  useEffect(() => {}, [orders]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairOrder permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    console.log(selected);\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Brands permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/salesOrder', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/salesOrder/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <DataGrid\r\n        title=\"Salement Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoicePDF: (\r\n              <IconButton\r\n                component={Link}\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <PictureAsPdfIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/order/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Phone Number\"\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.ChairToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={`${item.topMaterial}, ${item.topColor}, ${item.topSize}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.DeskToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.DeskToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.DeskToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.DeskToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.DeskToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.color}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                  />\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"deliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Actual Date\"\r\n                        defaultValue={item.AccessoryToOrder.deliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                deliveryDate: item.deliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                deliveryDate: item.deliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  deliveryDate: item.deliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              setDetailOpen(false);\r\n              axios\r\n                .post('/salesOrder/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { componentType, initialClient, initialCart } = props;\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Detailss',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterColor, setAccessoryFilterColor] = useState(null);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (cart.length === 0 && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              muliline: 'true',\r\n              type: 'text',\r\n              defaultValue: initialClient.remark,\r\n              width: '100%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.productDetail.frameColor}, ${item.productDetail.backColor}, ${item.productDetail.seatColor}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={`${item.productDetail.topMaterial}, ${item.productDetail.topColor}, ${item.productDetail.topSize}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.color}`}\r\n                        secondary={`${item.productDetail.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailUrl,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={chairColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Stocks\"\r\n                rows={deskStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'desk' &&\r\n                                  item.productDetail.id === deskStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={deskColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Color',\r\n                    value: accessoryFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setAccessoryFilterColor(value);\r\n                    },\r\n                    options: accessoryFeatures\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      !accessoryFilterColor ||\r\n                      item.color === accessoryFilterColor\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          console.log(paymentData.get('paid'));\r\n          console.log(Boolean(paymentData.get('paid')));\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then((response) => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                defaultChecked={initialClient.paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'chair' &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productPrice: Math.max(e.currentTarget.unitPrice.value, 0),\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <FormControlLabel\r\n            sx={{\r\n              width: '200px',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                label=\"Unit Price\"\r\n                margin=\"dense\"\r\n                type=\"number\"\r\n                name=\"unitPrice\"\r\n                defaultValue={1000}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 0 0' }}\r\n              />\r\n            }\r\n            label=\"HKD\"\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 9));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancle\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{ phone, setPhone, paid: true, dueDate: '' }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToOrder, ...restProps }) => ({\r\n            productType: 'desk',\r\n            productDetail: restProps,\r\n            productPrice: DeskToOrder.unitPrice,\r\n            productAmount: DeskToOrder.qty,\r\n          }))\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n          }))\r\n        )}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'quotationPDF',\r\n    nonSort: true,\r\n    label: 'Quotation',\r\n    align: 'center',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairOrder permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    console.log(selected);\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Brands permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/quotation/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <DataGrid\r\n        title=\"Salement Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToQuotation.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToQuotation.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationPDF: (\r\n              <IconButton\r\n                component={Link}\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <PictureAsPdfIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/quotation/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Phone Number\"\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              size=\"small\"\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={`${item.topMaterial}, ${item.topColor}, ${item.topSize}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.color}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'topMaterial',\r\n    label: 'topMaterial',\r\n  },\r\n  {\r\n    id: 'topColor',\r\n    label: 'topColor',\r\n  },\r\n  {\r\n    id: 'topSize',\r\n    label: 'topSize',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'add',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { componentType, initialClient, initialCart } = props;\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Detailss',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterColor, setAccessoryFilterColor] = useState(null);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (cart.length === 0 && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              muliline: 'true',\r\n              type: 'text',\r\n              defaultValue: initialClient.remark,\r\n              width: '100%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                variant=\"outlined\"\r\n                key={index}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.productDetail.frameColor}, ${item.productDetail.backColor}, ${item.productDetail.seatColor}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={`${item.productDetail.topMaterial}, ${item.productDetail.topColor}, ${item.productDetail.topSize}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.color}`}\r\n                        secondary={`${item.productDetail.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailUrl,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={chairColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Stocks\"\r\n                rows={deskStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'desk' &&\r\n                                  item.productDetail.id === deskStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={deskColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Color',\r\n                    value: accessoryFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setAccessoryFilterColor(value);\r\n                    },\r\n                    options: accessoryFeatures\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        margin=\"dense\"\r\n                        {...params}\r\n                        label={label}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .filter(\r\n                    (item) =>\r\n                      !accessoryFilterColor ||\r\n                      item.color === accessoryFilterColor\r\n                  )\r\n                  .map(\r\n                    (\r\n                      { thumbnailUrl, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailUrl}\r\n                          style={{ marginTop: '5px' }}\r\n                        />\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          console.log(paymentData.get('paid'));\r\n          console.log(Boolean(paymentData.get('paid')));\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: clientData.get('remark'),\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n              })\r\n              .then((response) => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox name=\"paid\" defaultChecked={initialClient.paid} />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            disabled={initialClient.paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'chair' &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productPrice: Math.max(e.currentTarget.unitPrice.value, 0),\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <FormControlLabel\r\n            sx={{\r\n              width: '200px',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                label=\"Unit Price\"\r\n                margin=\"dense\"\r\n                type=\"number\"\r\n                name=\"unitPrice\"\r\n                defaultValue={1000}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 0 0' }}\r\n              />\r\n            }\r\n            label=\"HKD\"\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 9));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancle\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{ phone, setPhone, paid: true }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToQuotation, ...restProps }) => ({\r\n            productType: 'desk',\r\n            productDetail: restProps,\r\n            productPrice: DeskToQuotation.unitPrice,\r\n            productAmount: DeskToQuotation.qty,\r\n          }))\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n          }))\r\n        )}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\n\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/user/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/user/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/user/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Salement',\r\n    content: [\r\n      { to: '/user/order', icon: <BookOnlineIcon />, label: 'Order' },\r\n      { to: '/user/quotation', icon: <BookOnlineIcon />, label: 'Quotation' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Standard = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Salesman\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            p: 3,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/chair/stock`} component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Standard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/user/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GuestRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === false ? (\r\n        <Component {...props} />\r\n      ) : auth.isAdmin === true ? (\r\n        <Redirect to=\"/admin/order\" />\r\n      ) : (\r\n        <Redirect to=\"/user/order\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === false ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/admin/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useState } from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  CssBaseline,\r\n} from '@mui/material';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { Provider } from 'react-redux';\r\nimport store from 'store';\r\nimport axios from 'axios';\r\n\r\nimport { Invoice, Quotation, SignIn, SignUp } from 'components/Guest';\r\nimport Admin from 'components/Admin';\r\nimport Standard from 'components/Standard';\r\nimport { AdminRoute, GuestRoute, PrivateRoute } from 'components/Common/Routes';\r\n\r\nif (store.getState().auth.isLoggedIn)\r\n  axios.defaults.headers.common['Authorization'] = `Bearer ${\r\n    store.getState().auth.token\r\n  }`;\r\n\r\nconst defaultTheme = createTheme();\r\n\r\nconst theme = createTheme({\r\n  components: {\r\n    MuiButton: {\r\n      variants: [\r\n        {\r\n          props: { color: 'aaaa' },\r\n          style: {\r\n            root: { color: `#888888` },\r\n          },\r\n        },\r\n      ],\r\n      defaultProps: {\r\n        variant: 'outlined',\r\n      },\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: 'none',\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      defaultProps: {\r\n        variant: 'outlined',\r\n        size: 'small',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// axios.defaults.baseURL = 'http://localhost:4000/api';\r\n// axios.defaults.baseURL = 'http://97.74.83.170/api';\r\naxios.defaults.baseURL = 'http://blueoceanblue.com/api';\r\n\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n    store.dispatch({ type: 'loading/beginLoading' });\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    store.dispatch({ type: 'loading/endLoading' });\r\n    return response;\r\n  },\r\n  function (error) {\r\n    if (error.response.status === 401) store.dispatch({ type: 'auth/logout' });\r\n    store.dispatch({ type: 'loading/endLoading' });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(store.getState().loading.value);\r\n  store.subscribe(() => {\r\n    setLoading(store.getState().loading.value);\r\n  });\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <Container\r\n          maxWidth={false}\r\n          disableGutters\r\n          sx={{\r\n            height: '100vh',\r\n            overflow: 'auto',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n          }}\r\n        >\r\n          <Backdrop\r\n            sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.modal + 1 }}\r\n            open={loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route path=\"/\" exact>\r\n                <Redirect to=\"/signin\" />\r\n              </Route>\r\n              <Route path=\"/invoice/:id\" exact component={Invoice} />\r\n              <Route path=\"/quotation/:id\" exact component={Quotation} />\r\n              <GuestRoute path=\"/signin\" exact component={SignIn} />\r\n              <GuestRoute path=\"/signup\" exact component={SignUp} />\r\n              <AdminRoute path=\"/admin\" component={Admin} />\r\n              <PrivateRoute path=\"/user\" component={Standard} />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Container>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}